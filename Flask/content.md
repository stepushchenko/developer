### Import Flask
```python
from flask import Flask
```

### Initialization class 
```python
app = Flask(__name__)
```

### Add route
```python
@app.route('/')
def index():
    return "Hello, world!"
```

### Run as a file
```python
if __name__ == '__main__':
    app.run(host='localhost', port=5000)
```

### Маршруты
Маршрут (иначе "путь") используется во фреймворке Flask для привязки URL к функции. <br>
Во Flask такая функция называется функцией представления. Она отвечает на запрос <br>
данных конкретной страницы. Во Flask декоратор route используется, <br>
чтобы связать URL-адрес с функцией.

### Множественные маршруты
```bash
@app.route('/')
@app.route('/index')
def index():
    return "Hello, world!"
```

###  Динамические маршруты
```bash
@app.route("/albums/<album_number>")
def albums(album_number):
    return f"The album number is {album_number}"
```

### Динамические переменные с конвертером
```bash
@app.route("/albums/<int:album_number>/<string:album_title>")
```

**Виды конвертеров:**
1. `string` строка
2. `int` число
3. `float` число с плавающей точкой
4. `path` полный путь, включая слеши
5. `uuid` принимает строки uuid (символьные id)

### Шаблоны 
Шаблонизатор использует шаблоны для создания html-страниц. <br>
Он предназначен для отделения внешнего вида приложения от его логики. <br>
Это улучшает читаемость кода и упрощает внесение изменений во внешний вид. <br>
Jinja – один из самых мощных и популярных движков для обработки шаблонов на языке Python. <br>
Он используется, в том числе, на других фреймворках, и, соответственно, <br>
Flask и Jinja – два разных пакета, и могут использоваться отдельно.

```html
<p>Вот как его зовут: {{ name }}</p> <!-- {{ }} используются для вставки значений переменных -->
```

Для использования выражений доступны стандартные математические операторы, <br>
сравнения, присваивания и логические операторы внутри самих выражений. <br>
Можно написать в том числе сложные уравнения, включенные в сам язык Python <br>
(стандартные библиотеки подключить не удастся и не все функции будут доступны).

```html
<p>
  2 + 2 = {{ 2 + 2 }}; 
  0,33 / 2 = {{ '{:.1}'.format(0,33 / 2) }};
</p>
```

Можно передать список и вывести конкретный элемент. <br>
А еще возможен вариант, сочетающий использование выражения и переменной, <br> 
где вернули список шаблону из целых чисел от 0 до 4 включительно...

Функция представления:
```python
@app.route('/')
def index():
  return render_template(
    'index.html',
    nums=[i for i in range(5)],
  )
```
Шаблон:
```html
<p> 
  nums[3] * 2 = {{ nums[3] * 2 }}
</p>
```
Вывод: 
```html
num[3] * 2 = 6
```

### Фильтры в шаблонах

```html
{{ “ever lucky” | title }} <!-- выведет Ever Lucky, так как title делает первые буквы заглавными -->
{{ comment | title }}  <!-- сначала все слова в значении переменной comment напишет с заглавной буквы, а затем выведет результат -->
{{ <p>title</p> | striptags | title }} <!-- сначала удалит теги, потом напишет с большой буквы и выведет Title -->
{{ 1.23223112 | round(2) }} <!-- округлит значение до 2 знаков после точки и выведет 1.23 -->
```
Полный список фильтров на официальном сайте https://jinja.palletsprojects.com/en/2.10.x/templates/#list-of-builtin-filters

### Структура проекта
- папка static (статичные файлы)
  - папка img
    - картинка 1
    - картинка 2
  - папка css
    - style.css
    - style2.css
  - папка js
    - file.js
    - file2.js
- папка templates (шаблоны html файлов)
  - first_page.html
  - second_page.html


### Отладка

**Трассировка стека** — это список методов, которые были вызваны до момента, когда в приложении произошло исключение. 

### Подключение элементов

**Подключение шаблонов в функции представления**
```python
def function():
    return render_template('template.html')
```
**Подключение CSS файлов из папки static в шаблоне**
```html
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
```

**Подключение изображений из папки static в шаблоне**
```html
<img src="{{ url_for('static', filename='img/girl.jpeg') }}" alt="girl img" width="240" height="240">
<!-- 
img -> тег
src -> ссылка на расположение картинки
alt -> замещающий текст
width -> ширина изображения
height -> высота изображения
-->
```